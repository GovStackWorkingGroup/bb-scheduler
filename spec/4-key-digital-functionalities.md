---
description: >-
  Key Digital Functionalities describe the core (required) functions that this
  Building Block must be able to perform.
---

# 4 Key Digital Functionalities

## **Current scope:**

The functional requirements to cover the services required from the Scheduler Building Block currently have considered specific use cases of consultation appointment booking, periodic payment calculation and payment processing triggering in the Post-Partum and Child Care program. The considerations can be generalized for different types of events involving one or more participants.&#x20;

The scheduler Building Block MUST provide scheduling-related services for coordinating time-based activities among other Building Blocks/applications/devices/people by sending appropriate alert notifications to them at appropriate times. These services MUST be exposed through RESTful API interfaces as defined by OpenAPI v3+ standards.

The Scheduler MUST have any response data payload it returns through its API only in the form of JSON formatted datasets. It is left to the application consuming the response to present it appropriately (e.g. as an Event list or calendar) and provision for associated user interface interactions.

The Scheduler Building Block allows the configuration of a single event at a time. Even if the same event is to repeat on different date-times, the location, resources, and subscribers need to not be the same. Hence the application MUST schedule each instance of the event separately.

The Scheduler must allow administrators to access information (events, resources, subscribers, alerts, etc.) related to their entity only.

The Scheduler Building Block MUST enable usage from the following actors:

* "BB\_Admin" who manages this Building Block to run efficiently in a hosted environment;
* "Organizer" who manages event schedules with associated participants and alerts;
* "Resources" (personnel, facilities, equipment) to deliver a specific service during the event;
* "Subscribers" (personnel, facilities, equipment) to receive services during the event.&#x20;

The internal storage of the Scheduler Building Block MUST hold configuration, status, and logged information of all scheduled events. It MUST also maintain a repository of details of resources and subscribers affiliated with various events

The Key digital functionalities that are considered within the current scope of the specifications to support the automation of event management in different phases are listed below:

1. **Event Management:**  Authorized organizers of a host entity (such as health workers/admins/etc.)must be able to create and manage schedules of events involving several resources, subscribers, and activities that have to be reminded/triggered/informed through alerts at appropriate times before/during/after the event. Each event schedule will contain under a unique Event\_Id, details such as a description of the event, which entity is hosting the event, when is the event starting and ending, how many subscribers are allowed, terms of subscription, current status of the event, deadlines for getting attendance from participants, etc. Schedules of multiple events can be configured, tracked, and managed, avoiding any duplication.&#x20;
2. **Alert Management:** Authorized organizers of a host entity may schedule one or more alerts to be sent to specific resources/subscribers of an event before, during, or after an event. It also provides for the mechanism to send alert messages according to the preferred Alerting mode (through Information Mediator to a target Building block/application URL end point, or publish it in its local IM+PUBSUB module or through messaging Building Block. Every alert sent is tagged for tracking status updates from alerted parties (for example an event started/ended/no show/etc.). It must be possible to  create a stack of message templates that be reused in one or more notifications in multiple Events hosted by the same entity.
3. **Resource management:** Authorized organizers of a host entity may enroll different resources resource (persons, facilities, equipment, vehicle, etc.)into respective entities. This scheduler retains the Resource details such as its name, category (doctor/nurse/teacher/health worker/admin/etc.), contact details (phone/mail/URL), etc., against a unique event id for each Resource. The scheduler allows multiple entities to register the same resource and affiliate the same resource to multiple entities with non-overlapping weekdays and working hours. (e.g. a doctor may work at different hospitals on specific days and time spans). The organizer may allocate their resources for multiple non-overlapping events within working hour zones of their affiliated entities. (e.g. a doctor could provide consultation to a series of patients during their work hours at a specific hospital). Organizers may look for resources that are free (unallocated) together in a chosen date-time range, or look for time zones when chosen resources are free together.
4. **Subscription management:** Multiple subscribers may be enrolled in a specific event and a given subscriber may be enrolled in multiple events. Organizers may search for scheduled events within a preferred date-time range which have not hit their subscriber limit yet, and enroll a subscriber into a chosen event thereof. The scheduler stores the subscriber contact details against a unique Id in such a way the same subscriber can be identified and affiliated with different token ids when subscribed into different events, without replication of the subscriber's details. In use cases where the subscriber is a target device/software, the admin of this Building Block is expected to allocate the subscriber to a specific one. In case the subscriber is a person, the person can self-subscribe to a chosen event or take assistance from an authorized third party (e.g. health worker or a call-center admin) to subscribe to a chosen event. It must be possible for authorized resources of host entities to update changes to the subscriber details and cancel subscriptions to specific events hosted by their respective entity.
5. **Schedule Tracking and Alerting:**  Once an event is scheduled, the scheduler internally tracks all associated alerts scheduled for the event and sends corresponding alert messages to target users and systems at appropriate times, based on the respective alert schedules. It will run as an independent process thread with the capability to track thousands of parallel events and generate heterogenous notifications. Based on the alert configuration, this Building Block can route the alert messages to a target URL endpoint through Information Mediator, through a Pub/Sub room, or through the Messaging Building Block. Each alert sent is tagged with a unique token from Scheduler so that it can be related to further acknowledgements and status updates received from recipients of the alerts. The alerted Building Block/app can take appropriate actions based on the alert message and may update the status back to an endpoint on the scheduler along with the token either synchronously or asynchronously along with the token. The scheduler can also poll for status updates, by giving the unique token of a specific alert it sent.
6. **Status Logging and Reporting:** This subblock maintains logs of user-driven transactions, activities originating from this Building Block as well as status updates coming from external sources. All logs contain a date time stamp, an optional location stamp, details of the information source, and the status of transaction. For example, the Scheduler can log all alerts it generates and all events that are created/updated/cancelled. It can also log status updates from external Building Blocks or applications (e.g. completion of an event) coming through Information Mediator, Pub/Sub, or Messaging Building Block interfaces. In some implementations, some subscriber users or systems may also generate acknowledgement of having received alerts from the scheduler within a certain period of time, failing which a rule may force the scheduler to resend the trigger/notification for a given number of retries before logging a communication success or failure. The Scheduler may also monitor and log internal metrics (e.g. latency/capacity utilization/communication failures/etc.) to help in maintenance and capacity management. The security implementation of the Building Block may also log any security threats or faults detected in the system. An authorized administrator may use this Building Block to report different sets of logged information in response to specific queries over a chosen date range.  For example, an auditing application may query logged information or statistical indicators thereof to monitor transactional load/performance/compliance to Schedule/ spanning across events. The Scheduler does not retain any reports it generates in response to the queries, it only maintains raw logs and produces reports on demand. It logs the transaction that it did give a report to a specific requestor.

## **Out of scope** <a href="#_heading-h.qsh70q" id="_heading-h.qsh70q"></a>

The Scheduler Building Block will provide the following key digital functionalities to support the automation of event management in different phases:

1. The Scheduler can be used to trigger activities based on time only. Evaluation of any criteria other than time-based evaluations for the generation of a trigger is out of scope.&#x20;
2. Alerts based purely on human decision are out of scope.
3. Any logical evaluations prior to the onset of alerting applications or building blocks are out of scope. The application/Building Block MUST implement its own logic to evaluate other conditions before taking action based on an alert. (e.g., the accounts application may check whether a payroll has been approved before initiating payments when alerted by the scheduler to initiate salary payments).&#x20;
